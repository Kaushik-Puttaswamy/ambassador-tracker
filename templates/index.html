<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Ambassador Tracker</title>
  <link rel="stylesheet" href="/static/style.css" />
  <script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
</head>
<body>
  <h1>Ambassador Activity Tracker</h1>

  <div class="controls">
    <input type="text" id="new-ambassador" placeholder="New Ambassador Name" />
    <button id="add-ambassador-btn">Add Ambassador</button>
    <button id="add-week-btn">Add Week</button>
    <button id="save-btn">ðŸ’¾ Save</button>
  </div>

  <table id="tracker-table">
    <thead>
      <tr>
        <th>Ambassador</th>
        {% for week in weeks %}
        <th class="week-header">
          <span contenteditable="true" class="editable">{{ week }}</span>
          <button onclick="deleteWeek(this)">ðŸ—‘</button>
        </th>
        {% endfor %}
      </tr>
      <!-- filter row is inserted dynamically via JS -->
    </thead>
    <tbody>
      {% for name, data in ambassadors.items() %}
      <tr>
        <td>
          <span contenteditable="true" class="editable">{{ name }}</span>
          <button onclick="deleteAmbassador(this)">ðŸ—‘</button>
        </td>
        {% for week in weeks %}
        <td>
          {% for opt in range(1, 6) %}
          Opt{{ opt }}:
          <button class="opt-btn {{ get_color_class(data[week][opt]) }}" 
                  data-ambassador="{{ name }}" 
                  data-week="{{ week }}" 
                  data-option="{{ opt }}">{{ data[week][opt] }}</button>
          <button class="reset-btn" onclick="resetCount(this.previousElementSibling)">&#x27f3;</button>
          <br />
          {% endfor %}
        </td>
        {% endfor %}
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <script src="/static/script.js"></script>
</body>
</html>